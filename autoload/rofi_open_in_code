# depends: rofi vscode

rofi_open_in_code() (
    DIR="$1"
    if [ -z "$DIR" ]; then
        DIR="$(pwd)"
    fi

    cd "$DIR"

    selection=$(
        for entry in *; do
            printf "$entry\n"
        done | rofi -dmenu -p $(basename "$DIR")
    )
    [ -z "$selection" ] && return 1

    code "${DIR}/${selection}"
)
